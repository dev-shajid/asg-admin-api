import{m as E,r as o,f as L,j as a,P as A,N as B,L as w,n as f}from"./index-3208b7ae.js";import{u as G,T as l}from"./formik.esm-6de65dff.js";import{u as O}from"./api-e309e24c.js";import{T as k,B as S}from"./Basic-d3189457.js";import{S as u,C as I,a as P,H}from"./data-c6f7e531.js";import{L as U}from"./LoadingOverlay-66c0274e.js";import{G as D}from"./Group-9151eddb.js";import"./Input-a04513a8.js";import"./use-uncontrolled-e10127f2.js";import"./ActionIcon-f67a85ea.js";import"./Divider-2cd8f1d5.js";import"./Popover-43cb3921.js";import"./Transition-bdec0aae.js";function ae(){var c,d,m,p,v,g,b,h,x,C,j;const{id:y}=E();let{GetCourseApi:V,UpdateCourseApi:i}=O();const t=V(y),[F,R]=o.useState({}),[n,N]=o.useState(!1);o.useState(0);const T=L(),e=G({initialValues:{playlistID:"",image:"",total:"",name:"",class:"",subject:"",subValue:"",chapter:"",title:"",category:""},validate:async s=>{},validateOnBlur:!!n,validateOnChange:!!n,onSubmit:async s=>{N(!0),Object.keys(F).length||i.mutate(s,{onSuccess:r=>{console.log(r),f.success(r),T("/courses")},onError:r=>{f.error(r.response.data||"Fail to create Course")}})}});return o.useEffect(()=>{async function s(){t.data&&await e.setValues(t.data)}s()},[t.data]),t.isLoading?a.jsx(A,{}):t.isError?a.jsx(B,{goback:!0}):a.jsxs(a.Fragment,{children:[a.jsx(U,{visible:i.isLoading,overlayBlur:2,overlayColor:"#0002",className:"!fixed"}),a.jsx(k,{className:"text-center",children:"Update Course"}),a.jsxs("form",{className:"max-w-[600px] mx-auto w-full space-y-6 mt-8",onSubmit:e.handleSubmit,children:[a.jsxs("div",{className:"space-y-6",children:[((c=e.values)==null?void 0:c.image)&&a.jsx("img",{className:"transition duration-500 rounded-md aspect-video w-full object-cover border border-gray-300",src:(d=e.values)==null?void 0:d.image,alt:(m=e.values)==null?void 0:m.title}),a.jsx(l,{disabled:!0,label:"Thumbnail",placeholder:"Course Thumbnail",value:(p=e.values)==null?void 0:p.image}),a.jsx(l,{label:"Name",placeholder:"Course Name",value:(v=e==null?void 0:e.values)==null?void 0:v.name,onChange:s=>e.setFieldValue("name",s.target.value)}),a.jsx(l,{disabled:!0,label:"Title",placeholder:"Course Title",value:(g=e.values)==null?void 0:g.title,onChange:s=>e.setFieldValue("title",s.target.value)}),a.jsx(l,{disabled:!0,label:"Total",placeholder:"Total Video",value:(b=e.values)==null?void 0:b.total,onChange:s=>e.setFieldValue("total",s.target.value)}),a.jsx(u,{data:I,label:"Class",placeholder:"Select Class",value:(h=e.values)==null?void 0:h.class,onChange:s=>e.setFieldValue("class",s)}),a.jsx(u,{data:(x=e.values)!=null&&x.class?e.values.class=="SSC"?P:H:[],label:"Subject",placeholder:"Select Subject",value:e.values.subValue,onChange:s=>e.setFieldValue("subValue",s)}),a.jsx(l,{label:"Chapter",placeholder:"Enter Chapter",value:(C=e.values)==null?void 0:C.chapter,onChange:s=>e.setFieldValue("chapter",s.target.value),type:"number"}),a.jsx(u,{data:["Basic","Advanced","Admission"],label:"Category",placeholder:"Select Category",value:(j=e.values)==null?void 0:j.category,onChange:s=>e.setFieldValue("category",s)})]}),a.jsxs(D,{position:"center",mt:"xl",children:[a.jsx(w,{to:"/courses",children:a.jsx(S,{variant:"outlineho",color:"red",children:"Cancel"})}),a.jsx(S,{type:"submit",className:"bg-indigo-500 hover:bg-indigo-600",children:"Submit"})]})]})]})}export{ae as default};
