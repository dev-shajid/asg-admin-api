import{R as i,a as v,g as S,r as $,u as ve,i as le,k as $e,l as oe,B as Ie,U as je,f as Ne,j as n,n as J}from"./index-3208b7ae.js";import{u as Ee,T as D}from"./formik.esm-6de65dff.js";import{T as se,u as ke}from"./api-e309e24c.js";import{c as ge,U as ze,T as De,B as K}from"./Basic-d3189457.js";import{g as ne,S as Q,C as Te,a as Ve,H as Ae}from"./data-c6f7e531.js";import{L as Be}from"./LoadingOverlay-66c0274e.js";import{T as Re}from"./Transition-bdec0aae.js";import{G as Le}from"./Group-9151eddb.js";import"./Input-a04513a8.js";import"./use-uncontrolled-e10127f2.js";import"./ActionIcon-f67a85ea.js";import"./Divider-2cd8f1d5.js";import"./Popover-43cb3921.js";var Fe=Object.defineProperty,F=Object.getOwnPropertySymbols,ye=Object.prototype.hasOwnProperty,Se=Object.prototype.propertyIsEnumerable,ie=(e,t,r)=>t in e?Fe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,ee=(e,t)=>{for(var r in t||(t={}))ye.call(t,r)&&ie(e,r,t[r]);if(F)for(var r of F(t))Se.call(t,r)&&ie(e,r,t[r]);return e},He=(e,t)=>{var r={};for(var a in e)ye.call(e,a)&&t.indexOf(a)<0&&(r[a]=e[a]);if(e!=null&&F)for(var a of F(e))t.indexOf(a)<0&&Se.call(e,a)&&(r[a]=e[a]);return r};function We(e){return i.createElement("svg",ee({viewBox:"0 0 10 7",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),i.createElement("path",{d:"M4 4.586L1.707 2.293A1 1 0 1 0 .293 3.707l3 3a.997.997 0 0 0 1.414 0l5-5A1 1 0 1 0 8.293.293L4 4.586z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"}))}function Ge(e){var t=e,{indeterminate:r}=t,a=He(t,["indeterminate"]);return r?i.createElement("svg",ee({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 32 6"},a),i.createElement("rect",{width:"32",height:"6",fill:"currentColor",rx:"3"})):i.createElement(We,ee({},a))}var Ue=Object.defineProperty,Me=Object.defineProperties,Ye=Object.getOwnPropertyDescriptors,ce=Object.getOwnPropertySymbols,qe=Object.prototype.hasOwnProperty,Je=Object.prototype.propertyIsEnumerable,pe=(e,t,r)=>t in e?Ue(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,X=(e,t)=>{for(var r in t||(t={}))qe.call(t,r)&&pe(e,r,t[r]);if(ce)for(var r of ce(t))Je.call(t,r)&&pe(e,r,t[r]);return e},Ke=(e,t)=>Me(e,Ye(t));const be={xs:v(34),sm:v(36),md:v(42),lg:v(48),xl:v(52)};var Qe=ge((e,{color:t,iconSize:r,radius:a,allowStepClick:m,iconPosition:s,orientation:y},{size:c})=>{const p=r?v(r):S({size:c,sizes:be}),f=c==="xl"||c==="lg"?e.spacing.md:e.spacing.sm,l=e.fn.radius(a),d=e.fn.variant({variant:"filled",color:t||e.primaryColor,primaryFallback:!1}),g=`calc(${e.spacing.xs} / 2)`,h={step:{justifyContent:"flex-start",minHeight:`calc(${p} + ${e.spacing.xl} + ${g})`,marginTop:g,overflow:"hidden","&:first-of-type":{marginTop:0},[`&:last-of-type .${ne("verticalSeparator")}`]:{display:"none"}}};return{stepLoader:{},step:X({display:"flex",flexDirection:s==="left"?"row":"row-reverse",cursor:m?"pointer":"default"},y==="vertical"?h.step:{alignItems:"center"}),stepWrapper:{position:"relative"},verticalSeparator:{top:`calc(${p} + ${g})`,left:`calc(${p} / 2)`,height:"100vh",position:"absolute",borderLeft:`${v(2)} solid ${e.colorScheme==="dark"?e.colors.dark[5]:e.colors.gray[1]}`,ref:ne("verticalSeparator")},verticalSeparatorActive:{borderColor:e.fn.variant({variant:"filled",color:t}).background},stepIcon:{boxSizing:"border-box",height:p,width:p,minWidth:p,borderRadius:l,display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:e.colorScheme==="dark"?e.colors.dark[5]:e.colors.gray[1],border:`${v(2)} solid ${e.colorScheme==="dark"?e.colors.dark[5]:e.colors.gray[1]}`,transition:"background-color 150ms ease, border-color 150ms ease",position:"relative",fontWeight:700,color:e.colorScheme==="dark"?e.colors.dark[1]:e.colors.gray[7],fontSize:S({size:c,sizes:e.fontSizes}),"&[data-progress]":{borderColor:d.background},"&[data-completed]":{backgroundColor:d.background,borderColor:d.background,color:e.white}},stepCompletedIcon:Ke(X({},e.fn.cover()),{display:"flex",alignItems:"center",justifyContent:"center",color:e.white}),stepBody:X({display:"flex",flexDirection:"column",marginLeft:s==="left"?f:void 0,marginRight:s==="right"?f:void 0},y==="vertical"?{marginTop:`calc(${r} / 4)`}:null),stepLabel:{textAlign:s,fontWeight:500,fontSize:S({size:c,sizes:e.fontSizes}),lineHeight:1},stepDescription:{textAlign:s,marginTop:`calc(${S({size:c,sizes:e.spacing})} / 3)`,marginBottom:`calc(${S({size:c,sizes:e.spacing})} / 3)`,fontSize:`calc(${S({size:c,sizes:e.fontSizes})} - ${v(2)})`,lineHeight:1}}});const Xe=Qe;var Ze=Object.defineProperty,H=Object.getOwnPropertySymbols,_e=Object.prototype.hasOwnProperty,he=Object.prototype.propertyIsEnumerable,de=(e,t,r)=>t in e?Ze(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Z=(e,t)=>{for(var r in t||(t={}))_e.call(t,r)&&de(e,r,t[r]);if(H)for(var r of H(t))he.call(t,r)&&de(e,r,t[r]);return e},et=(e,t)=>{var r={};for(var a in e)_e.call(e,a)&&t.indexOf(a)<0&&(r[a]=e[a]);if(e!=null&&H)for(var a of H(e))t.indexOf(a)<0&&he.call(e,a)&&(r[a]=e[a]);return r};const tt={xs:16,sm:18,md:20,lg:22,xl:24},rt={withIcon:!0,size:"md",radius:"xl",allowStepClick:!0,iconPosition:"left",__staticSelector:"Step"},L=(e,t)=>typeof e=="function"?i.createElement(e,{step:t}):e,xe=$.forwardRef((e,t)=>{const r=ve("StepperStep",rt,e),{className:a,step:m,state:s,color:y,icon:c,completedIcon:p,progressIcon:f,label:l,description:d,withIcon:g,iconSize:h,size:w,radius:I,loading:x,allowStepClick:o,allowStepSelect:b,iconPosition:U,__staticSelector:V,classNames:M,styles:A,unstyled:B,orientation:E,variant:R}=r,Y=et(r,["className","step","state","color","icon","completedIcon","progressIcon","label","description","withIcon","iconSize","size","radius","loading","allowStepClick","allowStepSelect","iconPosition","__staticSelector","classNames","styles","unstyled","orientation","variant"]),{classes:u,cx:k}=Xe({color:y,iconSize:h,radius:I,allowStepClick:o,iconPosition:U,orientation:E},{name:V,classNames:M,styles:A,unstyled:B,variant:R,size:w}),P=S({size:w,sizes:tt}),j=s==="stepCompleted"?null:s==="stepProgress"?f:c,z={"data-progress":s==="stepProgress"||void 0,"data-completed":s==="stepCompleted"||void 0};return i.createElement(ze,Z(Z({className:k(u.step,a),tabIndex:o?0:-1,ref:t},z),Y),g&&i.createElement("div",{className:u.stepWrapper},i.createElement("div",Z({className:u.stepIcon},z),i.createElement(Re,{mounted:s==="stepCompleted",transition:"pop",duration:200},q=>i.createElement("div",{className:u.stepCompletedIcon,style:q},x?i.createElement(le,{color:"#fff",size:P,className:u.stepLoader}):L(p,m)||i.createElement(Ge,{indeterminate:!1,width:P,height:P}))),s!=="stepCompleted"?x?i.createElement(le,{size:P,color:y}):L(j||c,m):null),E==="vertical"&&i.createElement("div",{className:k(u.verticalSeparator,{[u.verticalSeparatorActive]:s==="stepCompleted"})})),(l||d)&&i.createElement("div",{className:u.stepBody},l&&i.createElement(se,{className:u.stepLabel},L(l,m)),d&&i.createElement(se,{className:u.stepDescription,color:"dimmed"},L(d,m))))});xe.displayName="@mantine/core/Step";function W(e){return null}W.displayName="@mantine/core/StepCompleted";var at=Object.defineProperty,lt=Object.defineProperties,ot=Object.getOwnPropertyDescriptors,ue=Object.getOwnPropertySymbols,st=Object.prototype.hasOwnProperty,nt=Object.prototype.propertyIsEnumerable,me=(e,t,r)=>t in e?at(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,T=(e,t)=>{for(var r in t||(t={}))st.call(t,r)&&me(e,r,t[r]);if(ue)for(var r of ue(t))nt.call(t,r)&&me(e,r,t[r]);return e},it=(e,t)=>lt(e,ot(t)),ct=ge((e,{contentPadding:t,color:r,orientation:a,iconPosition:m,iconSize:s,breakpoint:y},{size:c})=>{const p=typeof y<"u",f=$e(S({size:y,sizes:e.breakpoints})),l=typeof s<"u"?`calc(${v(s)} / 2 - ${v(1)})`:`calc(${S({size:c,sizes:be})} / 2 - ${v(1)})`,d={steps:{flexDirection:"column",alignItems:m==="left"?"flex-start":"flex-end"},separator:{width:v(2),minHeight:e.spacing.xl,marginLeft:m==="left"?l:0,marginRight:m==="right"?l:0,marginTop:`calc(${e.spacing.xs} / 2)`,marginBottom:`calc(${e.spacing.xs} - ${v(2)})`}},g={steps:{[`@media (max-width: ${oe(f-1)})`]:d.steps},separator:{[`@media (max-width: ${oe(f-1)})`]:d.separator}};return{root:{},steps:T(T({display:"flex",boxSizing:"border-box",alignItems:"center"},a==="vertical"?d.steps:null),p?g.steps:null),separator:T(T({boxSizing:"border-box",transition:"background-color 150ms ease",flex:1,height:v(2),backgroundColor:e.colorScheme==="dark"?e.colors.dark[4]:e.colors.gray[2],marginLeft:e.spacing.md,marginRight:e.spacing.md},a==="vertical"?d.separator:null),p?g.separator:null),separatorActive:{backgroundColor:e.fn.variant({variant:"filled",color:r||e.primaryColor,primaryFallback:!1}).background},content:it(T({},e.fn.fontStyles()),{paddingTop:S({size:t,sizes:e.spacing})})}});const pt=ct;var dt=Object.defineProperty,G=Object.getOwnPropertySymbols,Ce=Object.prototype.hasOwnProperty,we=Object.prototype.propertyIsEnumerable,fe=(e,t,r)=>t in e?dt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,ut=(e,t)=>{for(var r in t||(t={}))Ce.call(t,r)&&fe(e,r,t[r]);if(G)for(var r of G(t))we.call(t,r)&&fe(e,r,t[r]);return e},mt=(e,t)=>{var r={};for(var a in e)Ce.call(e,a)&&t.indexOf(a)<0&&(r[a]=e[a]);if(e!=null&&G)for(var a of G(e))t.indexOf(a)<0&&we.call(e,a)&&(r[a]=e[a]);return r};const ft={contentPadding:"md",size:"md",radius:"xl",orientation:"horizontal",iconPosition:"left",allowNextStepsSelect:!0},N=$.forwardRef((e,t)=>{var r,a,m;const s=ve("Stepper",ft,e),{className:y,children:c,onStepClick:p,active:f,icon:l,completedIcon:d,progressIcon:g,color:h,iconSize:w,contentPadding:I,size:x,radius:o,orientation:b,breakpoint:U,iconPosition:V,allowNextStepsSelect:M,classNames:A,styles:B,unstyled:E,variant:R}=s,Y=mt(s,["className","children","onStepClick","active","icon","completedIcon","progressIcon","color","iconSize","contentPadding","size","radius","orientation","breakpoint","iconPosition","allowNextStepsSelect","classNames","styles","unstyled","variant"]),{classes:u,cx:k}=pt({contentPadding:I,color:h,orientation:b,iconPosition:V,iconSize:w,breakpoint:U},{name:"Stepper",classNames:A,styles:B,unstyled:E,variant:R,size:x}),P=$.Children.toArray(c),j=P.filter(O=>O.type!==W),z=P.find(O=>O.type===W),q=j.reduce((O,C,_)=>{const re=f===_?"stepProgress":f>_?"stepCompleted":"stepInactive",ae=(()=>typeof p!="function"?!1:typeof C.props.allowStepSelect=="boolean"?C.props.allowStepSelect:re==="stepCompleted"||M)();return O.push($.cloneElement(C,{__staticSelector:"Stepper",icon:C.props.icon||l||_+1,key:_,step:_,variant:R,state:re,onClick:()=>ae&&p(_),allowStepClick:ae,completedIcon:C.props.completedIcon||d,progressIcon:C.props.progressIcon||g,color:C.props.color||h,iconSize:w,size:x,radius:o,classNames:A,styles:B,iconPosition:C.props.iconPosition||V,orientation:b,unstyled:E})),b==="horizontal"&&_!==j.length-1&&O.push(i.createElement("div",{className:k(u.separator,{[u.separatorActive]:_<f}),key:`separator-${_}`})),O},[]),Pe=(a=(r=j[f])==null?void 0:r.props)==null?void 0:a.children,Oe=(m=z==null?void 0:z.props)==null?void 0:m.children,te=f>j.length-1?Oe:Pe;return i.createElement(Ie,ut({className:k(u.root,y),ref:t},Y),i.createElement("div",{className:u.steps},q),te&&i.createElement("div",{className:u.content},te))});N.Step=xe;N.Completed=W;N.displayName="@mantine/core/Stepper";function jt(){var I,x;let{GetYoutubePlaylistApi:e,CreateCourseApi:t}=ke();const r=e;je();const[a,m]=$.useState({}),[s,y]=$.useState(!1),[c,p]=$.useState(0),f=Ne(),l=Ee({initialValues:{playlistID:"",image:"",total:"",name:"",class:"",subject:"",subValue:"",chapter:"",title:"",category:""},validate:async o=>{},validateOnBlur:!!s,validateOnChange:!!s,onSubmit:async o=>{}}),d=()=>p(c+1),g=()=>{setTimeout(()=>{l.setFieldValue({playlistID:"",image:"",total:"",name:"",class:"",subject:"",subValue:"",chapter:"",title:"",category:""})},500)},h=async()=>{r.mutate(l.values.playlistID,{onSuccess:o=>{l.setValues({...l.values,total:o.total,image:o.thumb,name:o.name,title:o.title}),d()},onError:o=>{m({playlistID:"Invalid PlaylisId"})}})},w=async()=>{const o=J.loading("Loading...");t.mutate(l.values,{onSuccess:b=>{console.log(b),J.success(b,{id:o}),f("/courses"),g()},onError:b=>{J.error(b.response.data||"Fail to create Course",{id:o})}})};return n.jsxs(n.Fragment,{children:[n.jsx(Be,{visible:r.isLoading,overlayBlur:2,overlayColor:"#0002",className:"!fixed"}),n.jsx(De,{className:"text-center",children:"Create New Course"}),n.jsxs("form",{className:"max-w-[600px] mx-auto w-full space-y-6 mt-8",onSubmit:o=>o.preventDefault(),children:[n.jsxs(N,{active:c,onStepClick:o=>l.values.title&&p(o),classNames:{step:"!flex-col-reverse gap-y-2"},children:[n.jsx(N.Step,{label:"Playlist ID",children:n.jsx(D,{label:"Playlist ID",placeholder:"Enter Playlist ID",value:l.values.playlistID,onChange:o=>l.setFieldValue("playlistID",o.target.value),error:a.playlistID})}),n.jsx(N.Step,{label:"Details",children:n.jsxs("div",{className:"space-y-6",children:[((I=l.values)==null?void 0:I.image)&&n.jsx("img",{className:"transition duration-500 rounded-md aspect-video w-full object-cover border border-gray-300",src:l.values.image,alt:l.values.title}),n.jsx(D,{disabled:!0,label:"Thumbnail",placeholder:"Course Thumbnail",value:l.values.image}),n.jsx(D,{label:"Thumbnail",placeholder:"Course Thumbnail",value:l.values.name,onChange:o=>l.setFieldValue("name",o.target.value)}),n.jsx(D,{label:"Thumbnail",placeholder:"Course Thumbnail",value:l.values.title,onChange:o=>l.setFieldValue("title",o.target.value)}),n.jsx(Q,{data:Te,label:"Class",placeholder:"Select Class",value:l.values.class,onChange:o=>l.setFieldValue("class",o)}),n.jsx(Q,{data:(x=l.values)!=null&&x.class?l.values.class=="SSC"?Ve:Ae:[],label:"Subject",placeholder:"Select Subject",value:l.values.subValue,onChange:o=>l.setFieldValue("subValue",o)}),n.jsx(D,{label:"Chapter",placeholder:"Enter Chapter",value:l.values.chapter,onChange:o=>l.setFieldValue("chapter",o.target.value),type:"number"}),n.jsx(Q,{data:["Basic","Advanced","Admission"],label:"Category",placeholder:"Select Category",value:l.values.category,onChange:o=>l.setFieldValue("category",o)})]})})]}),n.jsxs(Le,{position:"center",mt:"xl",children:[n.jsx(K,{disabled:c==0,onClick:()=>p(c-1),variant:"default",children:"Back"}),c==0?n.jsx(K,{disabled:!l.values.playlistID,onClick:h,className:"bg-indigo-500 hover:bg-indigo-600",children:"Next Step"}):n.jsx(K,{onClick:w,className:"bg-indigo-500 hover:bg-indigo-600",children:"Submit"})]})]})]})}export{jt as default};
