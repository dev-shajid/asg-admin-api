import{r as n,f,j as r,n as u}from"./index-86bc1542.js";import{T as w,M as g}from"./Basic-c25be6a5.js";import{u as x,T as m}from"./formik.esm-9de3f1b8.js";import{P as d,v as h}from"./validate-114a501e.js";import{u as b}from"./api-1e349e14.js";import{L as y}from"./LoadingOverlay-184902ea.js";import"./Input-29558a5f.js";import"./use-uncontrolled-fc6128b1.js";import"./ActionIcon-a0e23267.js";import"./Transition-77243987.js";function B(){const{RegisterByAdminApi:l}=b(),[a,c]=n.useState({});let[o,p]=n.useState(!1);const v=f(),s=x({initialValues:{name:"Test User",email:"test@gmail.com",password:"testuser",cPassword:"testuser"},validate:async e=>{c(await h(e))},validateOnBlur:!!o,validateOnChange:!!o,onSubmit:async e=>{p(!0),Object.keys(a).length||l.mutateAsync(e,{onSuccess:t=>{u.success("User Created Successfully!"),v("/users")},onError:t=>{var i;u.error(((i=t.response)==null?void 0:i.data)||"Fail to create User"),console.log(t==null?void 0:t.response)}})}});return r.jsxs("div",{className:"flex justify-center items-center flex-col",children:[l.isError&&JSON.stringify(l.error,null,2),r.jsxs("form",{onSubmit:s.handleSubmit,className:"max-w-[400px] relative w-full space-y-4 mt-12 bg-white rounded-md md:px-8 px-4 md:py-12 py-8 border border-gray-200",children:[r.jsx(y,{visible:l.isLoading,overlayBlur:2,overlayColor:"#0002",className:"absolute rounded-md !z-10"}),r.jsx(w,{className:"mb-8 text-center",children:"Add a New User"}),r.jsx(m,{label:"Name",placeholder:"Enter Name",onChange:e=>s.setFieldValue("name",e.target.value),value:s.values.name,withAsterisk:!0,error:a.name}),r.jsx(m,{label:"Email",placeholder:"Enter Email",onChange:e=>s.setFieldValue("email",e.target.value),value:s.values.email,withAsterisk:!0,error:a.email}),r.jsx(d,{label:"Password",placeholder:"Enter Password",onChange:e=>s.setFieldValue("password",e.target.value),value:s.values.password,withAsterisk:!0,error:a.password}),r.jsx(d,{label:"Confirm Password",placeholder:"Enter Confirm Password",onChange:e=>s.setFieldValue("cPassword",e.target.value),value:s.values.cPassword,withAsterisk:!0,error:a.cPassword}),r.jsx(g,{type:"submit",className:"w-full !mt-6",children:"Login"})]})]})}export{B as default};
