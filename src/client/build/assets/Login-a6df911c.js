import{U as d,r as i,f as p,j as t,P as f,n as u}from"./index-86bc1542.js";import{S as g,T as x,M as h}from"./Basic-c25be6a5.js";import{u as w,T as b}from"./formik.esm-9de3f1b8.js";import{P as y,a as S}from"./validate-114a501e.js";import{u as v}from"./api-1e349e14.js";import"./Input-29558a5f.js";import"./use-uncontrolled-fc6128b1.js";import"./ActionIcon-a0e23267.js";function F(){const{LoginAdmin:a}=v();d();const[o,m]=i.useState({});let[l,c]=i.useState(!1);const n=p(),s=w({initialValues:{email:"",password:""},validate:async e=>{m(await S(e))},validateOnBlur:!!l,validateOnChange:!!l,onSubmit:async e=>{c(!0),Object.keys(o).length||a.mutateAsync(e,{onSuccess:r=>{u.success("Login Successful"),localStorage.setItem("token",r.token),n("/")},onError:r=>{u.error(r.response.data||"Fail to create Question"),console.log(r.response.data)}})}});return i.useEffect(()=>{localStorage.getItem("token")&&n("/")},[]),a.isLoading?t.jsx(f,{}):t.jsxs(g,{className:"flex justify-center items-center flex-col h-screen",children:[a.isError&&JSON.stringify(a.error,null,2),t.jsxs("form",{onSubmit:s.handleSubmit,className:"max-w-[400px] w-full space-y-4 bg-white rounded-md md:px-8 px-4 md:py-12 py-8 border border-gray-200",children:[t.jsx(x,{className:"mb-8 text-center",children:"Hello ðŸ‘‹"}),t.jsx(b,{label:"Email",placeholder:"Enter your Email",onChange:e=>s.setFieldValue("email",e.target.value),value:s.values.email,withAsterisk:!0,error:o.email}),t.jsx(y,{label:"Password",placeholder:"Enter your Password",onChange:e=>s.setFieldValue("password",e.target.value),value:s.values.password,withAsterisk:!0,error:o.password}),t.jsx(h,{type:"submit",className:"w-full !mt-6",children:"Login"})]})]})}export{F as default};
